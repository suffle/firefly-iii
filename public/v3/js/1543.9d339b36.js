"use strict";(self["webpackChunkfirefly_iii"]=self["webpackChunkfirefly_iii"]||[]).push([[1543],{1543:(e,a,s)=>{s.r(a),s.d(a,{default:()=>ee});var r=s(9835),n=s(6970);const t={class:"row"},l={class:"col q-mb-xs"},o=(0,r.Uk)(" Hi! You must be new to Firefly III. Welcome! Please fill in this form to create some basic accounts and get you started. "),i={class:"row"},c={class:"col-8 offset-2 q-mb-md"},_=(0,r._)("div",{class:"text-h6"},"Bank accounts",-1),u={class:"row q-mb-xs"},d={class:"col-8 offset-2"},m={class:"row q-mb-xs"},h={class:"col-3 offset-2"},b={class:"col-5"},f={class:"row q-mb-xs"},g={class:"col-8 offset-2"},v={class:"row"},p={class:"col-8 offset-2 q-mb-md"},k=(0,r._)("div",{class:"text-h6"},"Preferences",-1),w={class:"row q-mb-xs"},y={class:"col-8 offset-2"},q={class:"row"},I={class:"col-10 offset-2"},V={class:"row"},U={class:"col-8 offset-2"},W={class:"row"},Z={class:"col-8 offset-2"},C=(0,r._)("div",{class:"q-px-sm"},[(0,r.Uk)(" Hint: visit "),(0,r._)("a",{href:"https://github.com/firefly-iii/firefly-iii/discussions/"},"GitHub"),(0,r.Uk)(" or "),(0,r._)("a",{href:"#"},"Gitter.im"),(0,r.Uk)(". You can also contact me on "),(0,r._)("a",{href:"#"},"Twitter"),(0,r.Uk)(" or via "),(0,r._)("a",{href:"#"},"email"),(0,r.Uk)(". ")],-1),x={class:"row"},P={class:"col-8 offset-2"},A=(0,r.Uk)("Submit");function M(e,a,s,M,Q,D){const O=(0,r.up)("q-banner"),S=(0,r.up)("q-card-section"),T=(0,r.up)("q-icon"),F=(0,r.up)("q-input"),z=(0,r.up)("q-select"),E=(0,r.up)("q-card"),H=(0,r.up)("q-checkbox"),j=(0,r.up)("q-btn");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",t,[(0,r._)("div",l,[(0,r.Wm)(O,{rounded:"",class:"bg-purple-8 text-white"},{default:(0,r.w5)((()=>[o])),_:1})])]),(0,r._)("div",i,[(0,r._)("div",c,[(0,r.Wm)(E,{bordered:""},{default:(0,r.w5)((()=>[(0,r.Wm)(S,null,{default:(0,r.w5)((()=>[_])),_:1}),(0,r.Wm)(S,null,{default:(0,r.w5)((()=>[(0,r._)("div",u,[(0,r._)("div",d,[(0,r.Wm)(F,{"error-message":Q.bank_name_error,error:Q.bank_name_has_error,"bottom-slots":"",disable:Q.disabledInput,clearable:"",outlined:"",modelValue:Q.bank_name,"onUpdate:modelValue":a[0]||(a[0]=e=>Q.bank_name=e),label:"The name of your bank"},{prepend:(0,r.w5)((()=>[(0,r.Wm)(T,{name:"fas fa-university"})])),_:1},8,["error-message","error","disable","modelValue"])])]),(0,r._)("div",m,[(0,r._)("div",h,[(0,r.Wm)(z,{"error-message":Q.currency_error,error:Q.currency_has_error,"bottom-slots":"",disable:Q.disabledInput,outlined:"",modelValue:Q.currency,"onUpdate:modelValue":a[1]||(a[1]=e=>Q.currency=e),"emit-value":"",class:"q-pr-xs","map-options":"",options:Q.currencies,label:"Currency"},null,8,["error-message","error","disable","modelValue","options"])]),(0,r._)("div",b,[(0,r.Wm)(F,{"error-message":Q.bank_balance_error,error:Q.bank_balance_has_error,"bottom-slots":"",disable:Q.disabledInput,outlined:"",modelValue:Q.bank_balance,"onUpdate:modelValue":a[2]||(a[2]=e=>Q.bank_balance=e),mask:Q.balance_input_mask,"reverse-fill-mask":"","fill-mask":"0",label:"Today's balance",hint:"Enter your current balance"},{prepend:(0,r.w5)((()=>[(0,r.Wm)(T,{name:"fas fa-money-bill-wave"})])),_:1},8,["error-message","error","disable","modelValue","mask"])])]),(0,r._)("div",f,[(0,r._)("div",g,[(0,r.Wm)(F,{"error-message":Q.savings_balance_error,error:Q.savings_balance_has_error,"bottom-slots":"",disable:Q.disabledInput,outlined:"",modelValue:Q.savings_balance,"onUpdate:modelValue":a[3]||(a[3]=e=>Q.savings_balance=e),mask:Q.balance_input_mask,"reverse-fill-mask":"","fill-mask":"0",label:"Today's savings account balance",hint:"Leave empty or set to zero if not relevant."},{prepend:(0,r.w5)((()=>[(0,r.Wm)(T,{name:"fas fa-coins"})])),_:1},8,["error-message","error","disable","modelValue","mask"])])])])),_:1})])),_:1})])]),(0,r._)("div",v,[(0,r._)("div",p,[(0,r.Wm)(E,null,{default:(0,r.w5)((()=>[(0,r.Wm)(S,null,{default:(0,r.w5)((()=>[k])),_:1}),(0,r.Wm)(S,null,{default:(0,r.w5)((()=>[(0,r._)("div",w,[(0,r._)("div",y,[(0,r.Wm)(z,{"error-message":Q.language_error,error:Q.language_has_error,"bottom-slots":"",outlined:"",disable:Q.disabledInput,modelValue:Q.language,"onUpdate:modelValue":a[4]||(a[4]=e=>Q.language=e),"emit-value":"","map-options":"",options:Q.languages,label:"I prefer the following language"},null,8,["error-message","error","disable","modelValue","options"])])]),(0,r._)("div",q,[(0,r._)("div",I,[(0,r.Wm)(H,{disable:Q.disabledInput,modelValue:Q.manage_cash,"onUpdate:modelValue":a[5]||(a[5]=e=>Q.manage_cash=e),label:"I want to manage cash using Firefly III"},null,8,["disable","modelValue"]),Q.manage_cash_has_error?((0,r.wg)(),(0,r.j4)(O,{key:0,class:"text-white bg-red"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,n.zw)(Q.manage_cash_error),1)])),_:1})):(0,r.kq)("",!0)])]),(0,r._)("div",V,[(0,r._)("div",U,[(0,r.Wm)(H,{disable:Q.disabledInput,modelValue:Q.have_cc,"onUpdate:modelValue":a[6]||(a[6]=e=>Q.have_cc=e),label:"I have a credit card."},null,8,["disable","modelValue"]),Q.have_cc_has_error?((0,r.wg)(),(0,r.j4)(O,{key:0,class:"text-white bg-red"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,n.zw)(Q.have_cc_error),1)])),_:1})):(0,r.kq)("",!0)])]),(0,r._)("div",W,[(0,r._)("div",Z,[(0,r.Wm)(H,{disable:Q.disabledInput,modelValue:Q.have_questions,"onUpdate:modelValue":a[7]||(a[7]=e=>Q.have_questions=e),label:"I know where to go when I have questions"},null,8,["disable","modelValue"]),C,Q.have_questions_has_error?((0,r.wg)(),(0,r.j4)(O,{key:0,class:"text-white bg-red"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,n.zw)(Q.have_questions_error),1)])),_:1})):(0,r.kq)("",!0)])])])),_:1}),(0,r.Wm)(S,null,{default:(0,r.w5)((()=>[(0,r._)("div",x,[(0,r._)("div",P,[(0,r.Wm)(j,{color:"primary",onClick:D.submitNewUser},{default:(0,r.w5)((()=>[A])),_:1},8,["onClick"])])])])),_:1})])),_:1})])])],64)}s(702);var Q=s(3918),D=s(6108),O=s(1138),S=s(2684),T=s(1592),F=s(8898),z=s(7164);const E={name:"NewUser",data(){return{bank_name:"",bank_name_error:"",bank_name_has_error:!1,currency:"EUR",currency_error:"",currency_has_error:!1,bank_balance:"",bank_balance_error:"",bank_balance_has_error:!1,savings_balance:"",savings_balance_error:"",savings_balance_has_error:!1,language:"en_US",language_error:"",language_has_error:!1,manage_cash:!1,manage_cash_error:"",manage_cash_has_error:!1,have_cc:!1,have_cc_error:"",have_cc_has_error:!1,have_questions:!1,have_questions_error:"",have_questions_has_error:!1,balance_input_mask:"#.##",balance_prefix:"â‚¬",languages:[],currencies:[],disabledInput:!1}},watch:{currency:function(e){for(let a in this.currencies)if(this.currencies.hasOwnProperty(a)){let s=this.currencies[a];if(s.value===e){let e="#";this.balance_input_mask="#."+e.repeat(s.decimal_places)}}}},mounted(){let e=new Q.Z;e.get("firefly.languages").then((e=>{let a=e.data.data.value;for(let s in a)if(a.hasOwnProperty(s)){let e=a[s];this.languages.push({value:s,label:e.name_locale+" ("+e.name_english+")"})}}));let a=new D.Z;a.list(1).then((e=>{let a=e.data.data;for(let s in a)if(a.hasOwnProperty(s)){let e=a[s];this.currencies.push({value:e.attributes.code,label:e.attributes.name,decimal_places:e.attributes.decimal_places,symbol:e.attributes.symbol})}}))},methods:{submitNewUser:function(){if(this.resetErrors(),this.disabledInput=!0,""===this.bank_name)return this.bank_name_error="A name is required",this.bank_name_has_error=!0,void(this.disabledInput=!1);if(!1===this.have_questions)return this.have_questions_error="Please check this little box",this.have_questions_has_error=!0,void(this.disabledInput=!1);let e=this.submitMainAccount(),a=this.submitSavingsAccount(),s=this.submitCC(),r=this.submitCash(),n=this.submitCurrency(),t=this.submitLanguage();Promise.all([e,a,s,r,n,t]).then((()=>{this.$emit("created-accounts")}))},submitCurrency:function(){let e=new S.Z;return e.makeDefault(this.currency)},submitLanguage:function(){return(new T.Z).put("language",this.language)},submitMainAccount:function(){let e=new O.Z,a={name:this.bank_name+" checking account TODO",type:"asset",account_role:"defaultAsset",currency_code:this.currency_code};if(""!==this.bank_balance&&0!==parseFloat(this.bank_balance)){let e=(0,F.Z)(new Date,"y-MM-dd");a.opening_balance=this.bank_balance,a.opening_balance_date=e}return e.post(a)},submitSavingsAccount:function(){let e=new O.Z,a={name:this.bank_name+" savings account TODO",type:"asset",account_role:"savingAsset",currency_code:this.currency_code};if(""!==this.savings_balance&&0!==parseFloat(this.savings_balance)){let s=(0,F.Z)(new Date,"y-MM-dd");return a.opening_balance=this.savings_balance,a.opening_balance_date=s,e.post(a)}return Promise.resolve()},submitCC:function(){if(this.have_cc){let e=new O.Z,a=(0,F.Z)((0,z.Z)(new Date),"y-MM-dd"),s={name:this.bank_name+" Credit card",type:"asset",account_role:"ccAsset",currency_code:this.currency_code,credit_card_type:"monthlyFull",monthly_payment_date:a};return e.post(s)}return Promise.resolve()},submitCash:function(){if(this.manage_cash){let e=new O.Z,a={name:this.bank_name+" Cash account",type:"asset",account_role:"cashWalletAsset",currency_code:this.currency_code};return e.post(a)}return Promise.resolve()},resetErrors:function(){this.disabledInput=!1,this.bank_name_error="",this.bank_name_has_error=!1,this.currency_error="",this.currency_has_error=!1,this.bank_balance_error="",this.bank_balance_has_error=!1,this.savings_balance_error="",this.savings_balance_has_error=!1,this.language_error="",this.language_has_error=!1,this.manage_cash_error="",this.manage_cash_has_error=!1,this.have_cc_error="",this.have_cc_has_error=!1,this.have_questions_error="",this.have_questions_has_error=!1}}};var H=s(1639),j=s(7128),B=s(4458),L=s(3190),N=s(6611),Y=s(2857),G=s(7887),R=s(1221),$=s(8879),J=s(9984),K=s.n(J);const X=(0,H.Z)(E,[["render",M]]),ee=X;K()(E,"components",{QBanner:j.Z,QCard:B.Z,QCardSection:L.Z,QInput:N.Z,QIcon:Y.Z,QSelect:G.Z,QCheckbox:R.Z,QBtn:$.Z})}}]);