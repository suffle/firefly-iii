"use strict";(self["webpackChunkfirefly_iii"]=self["webpackChunkfirefly_iii"]||[]).push([[150],{150:(t,a,e)=>{e.r(a),e.d(a,{default:()=>_});var i=e(9835),n=e(6970);function s(t,a,e,s,r,g){const l=(0,i.up)("router-link"),o=(0,i.up)("q-badge"),u=(0,i.up)("q-card-section"),d=(0,i.up)("q-card"),p=(0,i.up)("q-fab-action"),c=(0,i.up)("q-fab"),h=(0,i.up)("q-page-sticky"),f=(0,i.up)("q-page");return(0,i.wg)(),(0,i.j4)(f,null,{default:(0,i.w5)((()=>[(0,i.Wm)(d,null,{default:(0,i.w5)((()=>[(0,i.Wm)(u,null,{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.tags,(t=>((0,i.wg)(),(0,i.iD)("span",null,[(0,i.Wm)(o,{outline:"",class:"q-ma-xs",color:"blue"},{default:(0,i.w5)((()=>[(0,i.Wm)(l,{to:{name:"tags.show",params:{id:t.id}}},{default:(0,i.w5)((()=>[(0,i.Uk)((0,n.zw)(t.attributes.tag),1)])),_:2},1032,["to"])])),_:2},1024)])))),256))])),_:1})])),_:1}),(0,i.Wm)(h,{position:"bottom-right",offset:[18,18]},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{label:"Actions",square:"","vertical-actions-align":"right","label-position":"left",color:"green",icon:"fas fa-chevron-up",direction:"up"},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{color:"primary",square:"",to:{name:"tags.create"},icon:"fas fa-exchange-alt",label:"New tag"},null,8,["to"])])),_:1})])),_:1})])),_:1})}var r=e(1049),g=e(1569);class l{list(t,a){let e="/api/v1/tags";return g.api.get(e,{params:{page:t,cache:a}})}}const o={name:"Index",watch:{$route(t){"tags.index"===t.name&&(this.page=1,this.updateBreadcrumbs(),this.triggerUpdate())}},data(){return{tags:[],loading:!1}},computed:{...(0,r.Se)("fireflyiii",["getRange","getCacheKey"])},created(){},mounted(){if(null===this.getRange.start||null===this.getRange.end){const t=(0,r.oR)();t.subscribe(((t,a)=>{"fireflyiii/setRange"===t.type&&(this.range={start:t.payload.start,end:t.payload.end},this.triggerUpdate())}))}null!==this.getRange.start&&null!==this.getRange.end&&(this.range={start:this.getRange.start,end:this.getRange.end},this.triggerUpdate())},methods:{updateBreadcrumbs:function(){this.$route.meta.pageTitle="firefly.tags",this.$route.meta.breadcrumbs=[{title:"tags"}]},onRequest:function(t){this.page=t.pagination.page,this.triggerUpdate()},triggerUpdate:function(){this.loading||(this.loading=!0,this.getPage(1))},getPage:function(t){const a=new l;this.rows=[],a.list(t,this.getCacheKey).then((a=>{for(let t in a.data.data)if(a.data.data.hasOwnProperty(t)){let e=a.data.data[t];this.tags.push(e)}t<parseInt(a.data.meta.pagination.total_pages)&&this.getPage(t+1),t===parseInt(a.data.meta.pagination.total_pages)&&(this.loading=!1)}))}}};var u=e(1639),d=e(9885),p=e(4458),c=e(3190),h=e(990),f=e(3388),m=e(9361),b=e(935),w=e(9984),y=e.n(w);const q=(0,u.Z)(o,[["render",s]]),_=q;y()(o,"components",{QPage:d.Z,QCard:p.Z,QCardSection:c.Z,QBadge:h.Z,QPageSticky:f.Z,QFab:m.Z,QFabAction:b.Z})}}]);